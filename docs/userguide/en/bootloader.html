<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US" xml:lang="en-US">
<head>
<!-- 
 *
 * Copyright 2008-2019, Haiku. All rights reserved.
 * Distributed under the terms of the MIT License.
 *
 * Authors:
 *		Humdinger <humdingerb@gmail.com>
 *
-->
	<meta http-equiv="content-type" content="text/html; charset=utf-8" />
	<meta http-equiv="Content-Style-Type" content="text/css" />
	<meta name="robots" content="all" />
	<title>Boot Loader</title>
	<meta name="viewport" content="width=device-width, initial-scale=1.0" />
	<link rel="stylesheet" type="text/css" href="../Haiku-doc.css" />
</head>
<body>

<div id="banner">
<div><span>User guide</span></div>
</div>

<div class="nav">
<div class="inner">
<ul class="lang-menu">
<li class="now"><img src="../images/flags/gb.png" alt="" /> English</li>
<li><a href="../id/bootloader.html"><img src="../images/flags/id.png" alt="" />Bahasa Indonesia</a></li>
<li><a href="../ca/bootloader.html"><img src="../images/flags/ca.png" alt="" />Català</a></li>
<li><a href="../de/bootloader.html"><img src="../images/flags/de.png" alt="" />Deutsch</a></li>
<li><a href="../es/bootloader.html"><img src="../images/flags/es.png" alt="" />Español</a></li>
<li><a href="../fr/bootloader.html"><img src="../images/flags/fr.png" alt="" />Français</a></li>
<li><a href="../fur/bootloader.html"><img src="../images/flags/fur.png" alt="" />Furlan</a></li>
<li><a href="../it/bootloader.html"><img src="../images/flags/it.png" alt="" />Italiano</a></li>
<li><a href="../hu/bootloader.html"><img src="../images/flags/hu.png" alt="" />Magyar</a></li>
<li><a href="../pl/bootloader.html"><img src="../images/flags/pl.png" alt="" />Polski</a></li>
<li><a href="../pt_PT/bootloader.html"><img src="../images/flags/pt_PT.png" alt="" />Português</a></li>
<li><a href="../pt_BR/bootloader.html"><img src="../images/flags/pt_BR.png" alt="" />Português (Brazil)</a></li>
<li><a href="../ro/bootloader.html"><img src="../images/flags/ro.png" alt="" />Română</a></li>
<li><a href="../sk/bootloader.html"><img src="../images/flags/sk.png" alt="" />Slovenčina</a></li>
<li><a href="../fi/bootloader.html"><img src="../images/flags/fi.png" alt="" />Suomi</a></li>
<li><a href="../sv_SE/bootloader.html"><img src="../images/flags/sv_SE.png" alt="" />Svenska</a></li>
<li><a href="../zh_CN/bootloader.html"><img src="../images/flags/zh_CN.png" alt="" /> 中文 ［中文］</a></li>
<li><a href="../ru/bootloader.html"><img src="../images/flags/ru.png" alt="" />Русский</a></li>
<li><a href="../uk/bootloader.html"><img src="../images/flags/uk.png" alt="" />Українська</a></li>
<li><a href="../jp/bootloader.html"><img src="../images/flags/jp.png" alt="" />日本語</a></li>
</ul>
<span>
    <!-- «  <a href="installation.html">Installing Haiku</a> 
::  -->
    <a href="contents.html" class="uplink">Contents</a> 
::  <a href="filesystem-layout.html">Filesystem layout</a>  »
</span></div>
</div>

<div id="content">
<div>

<h1>Boot Loader</h1>

<p>Haiku's Boot Loader Options can help when you experience hardware related problems or want to choose which Haiku installation to start, if you have more than one (maybe on an installation CD or USB stick). It's also handy if you have installed a software component that acts up and prevents you from booting Haiku, see <a href="#troubleshooting">Troubleshooting</a> below.</p>
<p>To enter the Boot Loader Options, you have to press and keep holding the <span class="key">SHIFT</span> key before the beginning of Haiku's boot process. If there's a boot manager installed, you can start holding <span class="key">SHIFT</span> before invoking the boot entry for Haiku. If Haiku is the only operating system on the machine, you can begin holding the key while still seeing boot messages from the BIOS.</p>
<div class="box-info">On computers that use UEFI for booting instead of the classic BIOS, you need to use the <span class="key">SPACEBAR</span> instead.</div>
<h2>
<a href="#"><img src="../images/up.png" style="border:none;float:right" alt="index" /></a>
<a id="options" name="options">Boot Loader Options</a></h2>
<p>Once it's there, you're offered four menus:</p>
<table summary="bootloader menus" border="0" cellspacing="0" cellpadding="2">
<tr><td><b>Select boot volume</b></td><td> </td><td>Choose which Haiku installation/state to start (see <a href="#troubleshooting">Troubleshooting</a> below).</td></tr>
<tr><td><b>Select safe mode options</b></td><td> </td><td>There are several options to try in case of hardware related trouble or if the system becomes unstable or unbootable because of a misbehaving add-on. When moving the selection bar to an option, a short explanation appears at the bottom of the screen.</td></tr>
<tr><td></td><td></td><td>
	<p><span class="menu">Safe mode</span><br />
		Puts the system into safe mode. This can be enabled independently from the other options.</p>
	<p><span class="menu">Disable user add-ons</span><br />
		Prevents all user installed add-ons from being loaded. Only the add-ons in the system directory will be used. See <a href="#troubleshooting">Troubleshooting</a> below.</p>
	<p><span class="menu">Disable IDE DMA</span><br />
		Disables IDE DMA, increasing IDE compatibility at the expense of performance.</p>
	<p><span class="menu">Ignore memory beyond 4 GiB</span><br />
		Ignores all memory beyond the 4 GiB address limit, overriding the setting in the kernel settings file.
</p>
	<p><span class="menu">Use fail-safe graphics driver</span><br />
		The system will use VESA mode and won't try to use any video graphics drivers.</p>
	<p><span class="menu">Disable IO-APIC</span><br />
		Disables using the IO APIC for interrupt routing, forcing the use of the legacy PIC instead.</p>
	<p><span class="menu">Disable local APIC</span><br />
		Disables using the local APIC, also disables SMP.</p>
	<p><span class="menu">Disable SMP</span><br />
		Disables all but one CPU core.</p>
	<p><span class="menu">Don't call the BIOS</span><br />
		Stops the system from calling BIOS functions.</p>
	<p><span class="menu">Disable APM</span><br />
		Disables Advanced Power Management hardware support, overriding the APM setting in the kernel settings file.</p>
	<p><span class="menu">Disable ACPI</span><br />
		Disables Advanced Configuration and Power Interface hardware support, overriding the ACPI setting in the kernel settings file.</p>
	<p><span class="menu">Blacklist entries</span><br />
		Allows to select system files that shall be ignored. Useful e.g. to disable drivers temporarily. See <a href="#troubleshooting">Troubleshooting</a> below.</p></td></tr>
<tr><td><b>Select debug options</b></td><td> </td><td>Here you'll find several options that help with debugging or getting details for a <a href="../../welcome/en/bugreports.html">bug report</a>. Again, a short explanation for each option is displayed at the bottom.</td></tr>
<tr><td></td><td></td><td>
	<p><span class="menu">Enable serial debug output</span><br />
		Turns on forwarding the syslog output to the serial interface (default: 115200, 8N1).</p>
	<p><span class="menu">Enable on screen debug output</span><br />
		Display debug output on screen while the system is booting, instead of the normal boot logo.</p>
	<p><span class="menu">Disable on screen paging</span><br />
		Disables paging when on screen debug output is enabled.</p>
	<p><span class="menu">Enable debug syslog</span><br />
		Enables a special in-memory syslog buffer for this session that the boot loader will be able to access after rebooting.</p>
	<p><span class="menu">Display current boot loader log</span><br />
		Displays the debug info the boot loader has logged (press <span class="key">Q</span> to exit the log)</p>
	<p><span class="menu">Add advanced debug option</span><br />
		Allows advanced debugging options to be entered directly.</p></td></tr>
<tr><td></td><td></td><td>If <span class="menu">Enable debug syslog</span> is activated, a warm reboot after a crash shows these additional options:</td></tr>
<tr><td></td><td></td><td>	<p><span class="menu">Save syslog from previous session during boot</span><br />
		Saves the syslog from the previous Haiku session to <span class="path">/var/log/previous_syslog</span> when booting.</p>
	<p><span class="menu">Display syslog from previous session</span><br />
		Displays the syslog from the previous Haiku session.</p>
	<p><span class="menu">Save syslog from previous session</span><br />
		Saves the syslog from the previous Haiku session to disk. Currently only FAT32 volumes are supported.</p></td></tr>
<tr><td class="onelinetop"><b>Select screen resolution</b></td><td> </td><td>Lets you force a certain screen resolution and color depth.</td></tr>
</table>
<h2>
<a href="#"><img src="../images/up.png" style="border:none;float:right" alt="index" /></a>
<a id="troubleshooting" name="troubleshooting">Troubleshooting</a></h2>
<p>If Haiku refuses to boot on your hardware from the get-go, try out setting different options under <span class="menu">Select safe mode options</span>. Consider filing a <a href="../../welcome/en/bugreports.html">bug report</a> in any case.</p>
<p>On the other hand, if Haiku only suddenly acts up after you have installed some software, especially hardware drivers, you have several options to get Haiku bootable again so you can uninstall the offending package:</p>
<ul>
<li><p>Activating <span class="menu">Safe mode</span> will prevent most servers, daemons and the UserBootscript from being started.</p></li>
<li><p>Activating <span class="menu">Disable user add-ons</span> will prevent using any add-ons (drivers, translators, etc.) you have installed in the user hierarchy under your Home folder.</p></li>
<li><p>If activating <span class="menu">Use fail-safe graphics driver</span> solves your troubles by falling back to VESA graphics, you can make the setting permanent by removing the <tt>#</tt> of the line <i>#fail_safe_video_mode true</i> in the text file <span class="path">/boot/home/config/settings/kernel/drivers/kernel</span>.</p></li>
<li><p>If the offending driver, add-on etc. is installed in the system hierarchy, things get a bit more complicated, because that area is read-only. Here, the <span class="menu">Blacklist entries</span> comes into play. With it, you can navigate through the whole system hierarchy and disable the component that's messing things up for you by checking an entry with the <span class="key">SPACE</span> or <span class="key">RETURN</span> key. <span class="key">ESC</span> returns you up one level to the parent directory.</p>
<p>Online, there's the article <a href="http://www.haiku-os.org/blog/barrett/2013-12-15_how_permanently_blacklist_package_file">How to Permanently Blacklist a Package File</a> showing how to make that setting stick.</p></li>
<li><p>Under <span class="menu">Select boot volume</span> you can specify what former "version" of Haiku to boot. Every time you un/install a package, the old state is saved and you can boot into it by choosing it from the list presented in the boot loader options.<br />
So, if you encounter boot problems after installing some package, boot a Haiku state from before that time and uninstall the offending package.</p></li>
</ul>
<h2>
<a href="#"><img src="../images/up.png" style="border:none;float:right" alt="index" /></a>
<a id="booting" name="booting">Booting Haiku</a></h2>
<p>After activating one or more options, you return to the main menu and continue booting, which presents you with this boot screen:</p>
<img src="../images/bootloader-images/boot-screen.png" alt="boot-screen.png" />

<p>If everything works OK, one symbol after another quickly lights up.<br />
The different symbols roughly correspond to these boot stages:</p>
<table summary="layout" border="0" cellpadding="2" cellspacing="0"> 
	<tr><td><b>Atom</b></td><td style="width:10px;"> </td><td>Initializing modules.</td></tr>
	<tr><td><b>Disk + magnifier</b></td><td> </td><td>Creating rootfs (<span class="path">/</span>) and mounting devfs (<span class="path">/dev</span>).</td></tr>
	<tr><td><b>Plug-in card</b></td><td> </td><td>Initializing device manager.</td></tr>
	<tr><td><b>Boot disk</b></td><td> </td><td>Mounting boot disk.</td></tr>
	<tr><td><b>Chip</b></td><td> </td><td>Loading CPU specific modules.</td></tr>
	<tr><td><b>Folder</b></td><td> </td><td>Final initialization of subsystems.</td></tr>
	<tr><td><b>Rocket</b></td><td> </td><td>Launch_daemon has started the system.</td></tr>
</table>

</div>
</div>

<div class="nav">
<div class="inner"><span>
    <!-- «  <a href="installation.html">Installing Haiku</a> 
::  -->
    <a href="contents.html" class="uplink">Contents</a> 
::  <a href="filesystem-layout.html">Filesystem layout</a>  »
</span></div>
</div>

</body>
</html>
