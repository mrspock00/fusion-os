SubDir FUSION_TOP src tests ;

AddSubDirSupportedPlatforms libbe_test ;

UnitTestLib libexampletest.so
	: ExampleTestAddon.cpp
		ExampleTest.cpp
	: be [ TargetLibstdc++ ]
	:
;

UnitTest UnitTester
	: UnitTester.cpp
	: be [ TargetLibstdc++ ]
	: UnitTester.rdef
;

# Install libbe and other libraries for target platform libbe_test.
if $(TARGET_PLATFORM) = libbe_test {
	local libs = libbe_haiku.so libbeadapter.so libtranslation.so ;
	HaikuInstall install-unittest-libs : $(TARGET_UNIT_TEST_LIB_DIR)
		: $(libs)
		: tests!unittests ;
}

SubInclude FUSION_TOP src tests add-ons ;
SubInclude FUSION_TOP src tests apps ;
SubInclude FUSION_TOP src tests bin ;
SubInclude FUSION_TOP src tests system ;
SubInclude FUSION_TOP src tests kits ;
SubInclude FUSION_TOP src tests libs ;
SubInclude FUSION_TOP src tests misc ;
SubInclude FUSION_TOP src tests servers ;
